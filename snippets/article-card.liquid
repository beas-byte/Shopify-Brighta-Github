{%- liquid
    assign image = article.image
    assign id = article.id
    assign link = article.url
    assign title = article.title
    assign author = article.author
    assign summary = article.excerpt_or_content | strip_html | truncatewords: catewords
-%}
<article class="article-item{% if image == blank %} article-card--no-image{% unless show_placeholder %} not-placeholder{% endunless %}{% endif %}" aria-labelledby="Article-{{ id }}">
    <div class="blog-top text-{{ blog_text_align }}">
        <h3 class="blog-title" id="Article-{{ article.id }}">
            <a href="{{ link }}">
                {{ title | escape }}
            </a>
        </h3>
        {%- if show_author or show_date or show_comment -%}
            <p class="blog-info">
                {% if show_date %}
                    <span class="blog-date">{{ article.published_at | time_tag: '%b %d, %Y' }}</span>
                {% endif%}
                {% if show_author %}
                    <span class="blog-author">{{ 'blogs.article.author' | t : author : author }}</span>
                {% endif %}
                {% if show_comment %}
                    <span class="blog-comment">{{ 'blogs.article.comments' | t: count: article.comments_count }}</span>
                {% endif %}
            </p>
        {%- endif -%}
    </div>
    {%- if image -%}
       <div class="blog-image img-box">
  {%- assign preview_img = image -%}
  {%- assign img_url = preview_img | img_url: '533x400', crop: 'center' -%}
  <a href="{{ link }}" class="image image-{{ media_size }} image-zoom" 
    {% if media_size == 'adapt' %}
      style="padding-bottom: {{ 1 | divided_by: preview_img.aspect_ratio | times: 100 }}%;"
    {% elsif media_size == 'square' %}
      style="padding-bottom: 100%;"
    {% elsif media_size == 'portrait' %}
      style="padding-bottom: {{ portrait_aspect_ratio }};"
    {% endif %}
  >
    <img srcset="
        {{ img_url | append: ' 165w' }},
        {{ img_url | append: ' 360w' }},
        {{ img_url | append: ' 533w' }},
        {{ img_url | append: ' 700w' }},
        {{ img_url | append: ' 940w' }},
        {{ img_url | append: ' 1066w' }}
      "
      sizes="(min-width: 1100px) 535px, (min-width: 750px) calc((100vw - 130px) / 2), calc((100vw - 50px) / 2)"
      src="{{ img_url }}"
      alt="{{ image.alt | escape }}"
      loading="lazy"
      class="motion-reduce"
      width="533"
      height="400"
    >
  </a>
</div>

    {%- elsif show_placeholder -%}
        <div class="blog-image img-box">
            <a href="{{ link }}" class="image">
                {{ 'image' | placeholder_svg_tag: 'placeholder-svg' }}
            </a>
        </div>
    {%- endif -%}
    <div class="blog-content text-{{ blog_text_align }}">
        {%- if show_summary and summary != blank -%}
            <div class="blog-summary">
                {{ summary }}
            </div>
        {%- endif -%}
        {%- if show_read_more -%}
            <a href="{{ link }}" class="button button-3 blog-btn link">
                <span class="text">
                    {{ 'blogs.article.read_more' | t }}
                </span>
            </a>
        {%- endif -%}
    </div>
</article>